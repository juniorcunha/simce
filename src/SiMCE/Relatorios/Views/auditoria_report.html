{% import  'Core/Views/components.twig.html' as ui %}

<table id="datagrid" cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed" style="margin-left: -15px; margin-top: 10px;">
	<thead>
		<tr>
			<th>Data/Hora</th>
			<th>Usuário</th>
			<th>IP</th>
			<th>Ação</th>
			<th>Informações Adicionais</th>
		</tr>
	</thead>
	<tbody>
	</tbody>
</table>

<!-- Ajusta os itens de navegação -->
<script>
	
	// Seleciona primeira aba
	$(".nav-tabs-form a:first").tab("show");
	
	// Botão voltar
	$(".btn-prev").removeClass("hidden").off().on( 'click', SiMCE.functions.loadMenu );
	// Botão avançar
	$(".btn-next").addClass("hidden");
	// Botão gerar
	$(".btn-run").addClass("hidden");
	// Botão pdf
	//$(".btn-pdf").removeClass("hidden").on('click', SiMCE.functions.genPDFOperationReport );
	
	// Popula o grid
	var cfg = SiMCE.getGridConfig(true);
	cfg.aoColumns = [
		{ mData: "data",        sWidth: "70px" },
		{ mData: "usuarios_id", sWidth: "130px" },
		{ mData: "ip",          sWidth: "35px" },
		{ mData: "acao",        sWidth: "auto" },
		{ mData: "param",       sWidth: "auto" }
	];
	cfg.bLengthChange = true;
	cfg.sAjaxSource   = SiMCE.moduleURL + "get_audits/?{{ params | raw}}";
	$('#datagrid').dataTable(cfg);
	
</script>
